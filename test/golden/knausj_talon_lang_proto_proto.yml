input: |
  tag: user.protobuf
  -

  # this is pretty bare-bones, further contributions welcome
  state message: "message "
  state package: "package "
  state reserved: "reserved "
  state enum: "enum "
  op equals: " = "
  state import: "import "
  state import public: "import public "
  state option: "option "
  state repeated: "repeated "

  type {user.code_type}: "{code_type}"
  repeated type {user.code_type}: "repeated {code_type}"
output:
  children:
  - children:
    - children:
      - text: tag
        type: identifier
      - text: ' user.protobuf'
        type: implicit_string
      key:
        text: tag
        type: identifier
      pattern:
        text: ' user.protobuf'
        type: implicit_string
      type: match
    type: context
  - text: '# this is pretty bare-bones, further contributions welcome'
    type: comment
  - children:
    - children:
      - children:
        - text: state
          type: word
        - text: message
          type: word
        type: seq
      type: rule
    - children:
      - children:
        - children:
          - text: 'message '
            type: string_content
          type: string
        expression:
          children:
          - text: 'message '
            type: string_content
          type: string
        type: expression
      type: block
    rule:
      children:
      - children:
        - text: state
          type: word
        - text: message
          type: word
        type: seq
      type: rule
    script:
      children:
      - children:
        - children:
          - text: 'message '
            type: string_content
          type: string
        expression:
          children:
          - text: 'message '
            type: string_content
          type: string
        type: expression
      type: block
    type: command
  - children:
    - children:
      - children:
        - text: state
          type: word
        - text: package
          type: word
        type: seq
      type: rule
    - children:
      - children:
        - children:
          - text: 'package '
            type: string_content
          type: string
        expression:
          children:
          - text: 'package '
            type: string_content
          type: string
        type: expression
      type: block
    rule:
      children:
      - children:
        - text: state
          type: word
        - text: package
          type: word
        type: seq
      type: rule
    script:
      children:
      - children:
        - children:
          - text: 'package '
            type: string_content
          type: string
        expression:
          children:
          - text: 'package '
            type: string_content
          type: string
        type: expression
      type: block
    type: command
  - children:
    - children:
      - children:
        - text: state
          type: word
        - text: reserved
          type: word
        type: seq
      type: rule
    - children:
      - children:
        - children:
          - text: 'reserved '
            type: string_content
          type: string
        expression:
          children:
          - text: 'reserved '
            type: string_content
          type: string
        type: expression
      type: block
    rule:
      children:
      - children:
        - text: state
          type: word
        - text: reserved
          type: word
        type: seq
      type: rule
    script:
      children:
      - children:
        - children:
          - text: 'reserved '
            type: string_content
          type: string
        expression:
          children:
          - text: 'reserved '
            type: string_content
          type: string
        type: expression
      type: block
    type: command
  - children:
    - children:
      - children:
        - text: state
          type: word
        - text: enum
          type: word
        type: seq
      type: rule
    - children:
      - children:
        - children:
          - text: 'enum '
            type: string_content
          type: string
        expression:
          children:
          - text: 'enum '
            type: string_content
          type: string
        type: expression
      type: block
    rule:
      children:
      - children:
        - text: state
          type: word
        - text: enum
          type: word
        type: seq
      type: rule
    script:
      children:
      - children:
        - children:
          - text: 'enum '
            type: string_content
          type: string
        expression:
          children:
          - text: 'enum '
            type: string_content
          type: string
        type: expression
      type: block
    type: command
  - children:
    - children:
      - children:
        - text: op
          type: word
        - text: equals
          type: word
        type: seq
      type: rule
    - children:
      - children:
        - children:
          - text: ' = '
            type: string_content
          type: string
        expression:
          children:
          - text: ' = '
            type: string_content
          type: string
        type: expression
      type: block
    rule:
      children:
      - children:
        - text: op
          type: word
        - text: equals
          type: word
        type: seq
      type: rule
    script:
      children:
      - children:
        - children:
          - text: ' = '
            type: string_content
          type: string
        expression:
          children:
          - text: ' = '
            type: string_content
          type: string
        type: expression
      type: block
    type: command
  - children:
    - children:
      - children:
        - text: state
          type: word
        - text: import
          type: word
        type: seq
      type: rule
    - children:
      - children:
        - children:
          - text: 'import '
            type: string_content
          type: string
        expression:
          children:
          - text: 'import '
            type: string_content
          type: string
        type: expression
      type: block
    rule:
      children:
      - children:
        - text: state
          type: word
        - text: import
          type: word
        type: seq
      type: rule
    script:
      children:
      - children:
        - children:
          - text: 'import '
            type: string_content
          type: string
        expression:
          children:
          - text: 'import '
            type: string_content
          type: string
        type: expression
      type: block
    type: command
  - children:
    - children:
      - children:
        - text: state
          type: word
        - text: import
          type: word
        - text: public
          type: word
        type: seq
      type: rule
    - children:
      - children:
        - children:
          - text: 'import public '
            type: string_content
          type: string
        expression:
          children:
          - text: 'import public '
            type: string_content
          type: string
        type: expression
      type: block
    rule:
      children:
      - children:
        - text: state
          type: word
        - text: import
          type: word
        - text: public
          type: word
        type: seq
      type: rule
    script:
      children:
      - children:
        - children:
          - text: 'import public '
            type: string_content
          type: string
        expression:
          children:
          - text: 'import public '
            type: string_content
          type: string
        type: expression
      type: block
    type: command
  - children:
    - children:
      - children:
        - text: state
          type: word
        - text: option
          type: word
        type: seq
      type: rule
    - children:
      - children:
        - children:
          - text: 'option '
            type: string_content
          type: string
        expression:
          children:
          - text: 'option '
            type: string_content
          type: string
        type: expression
      type: block
    rule:
      children:
      - children:
        - text: state
          type: word
        - text: option
          type: word
        type: seq
      type: rule
    script:
      children:
      - children:
        - children:
          - text: 'option '
            type: string_content
          type: string
        expression:
          children:
          - text: 'option '
            type: string_content
          type: string
        type: expression
      type: block
    type: command
  - children:
    - children:
      - children:
        - text: state
          type: word
        - text: repeated
          type: word
        type: seq
      type: rule
    - children:
      - children:
        - children:
          - text: 'repeated '
            type: string_content
          type: string
        expression:
          children:
          - text: 'repeated '
            type: string_content
          type: string
        type: expression
      type: block
    rule:
      children:
      - children:
        - text: state
          type: word
        - text: repeated
          type: word
        type: seq
      type: rule
    script:
      children:
      - children:
        - children:
          - text: 'repeated '
            type: string_content
          type: string
        expression:
          children:
          - text: 'repeated '
            type: string_content
          type: string
        type: expression
      type: block
    type: command
  - children:
    - children:
      - children:
        - text: type
          type: word
        - children:
          - text: user.code_type
            type: identifier
          list_name:
            text: user.code_type
            type: identifier
          type: list
        type: seq
      type: rule
    - children:
      - children:
        - children:
          - text: '{'
            type: string_content
          - text: code_type
            type: string_content
          - text: '}'
            type: string_content
          type: string
        expression:
          children:
          - text: '{'
            type: string_content
          - text: code_type
            type: string_content
          - text: '}'
            type: string_content
          type: string
        type: expression
      type: block
    rule:
      children:
      - children:
        - text: type
          type: word
        - children:
          - text: user.code_type
            type: identifier
          list_name:
            text: user.code_type
            type: identifier
          type: list
        type: seq
      type: rule
    script:
      children:
      - children:
        - children:
          - text: '{'
            type: string_content
          - text: code_type
            type: string_content
          - text: '}'
            type: string_content
          type: string
        expression:
          children:
          - text: '{'
            type: string_content
          - text: code_type
            type: string_content
          - text: '}'
            type: string_content
          type: string
        type: expression
      type: block
    type: command
  - children:
    - children:
      - children:
        - text: repeated
          type: word
        - text: type
          type: word
        - children:
          - text: user.code_type
            type: identifier
          list_name:
            text: user.code_type
            type: identifier
          type: list
        type: seq
      type: rule
    - children:
      - children:
        - children:
          - text: 'repeated '
            type: string_content
          - text: '{'
            type: string_content
          - text: code_type
            type: string_content
          - text: '}'
            type: string_content
          type: string
        expression:
          children:
          - text: 'repeated '
            type: string_content
          - text: '{'
            type: string_content
          - text: code_type
            type: string_content
          - text: '}'
            type: string_content
          type: string
        type: expression
      type: block
    rule:
      children:
      - children:
        - text: repeated
          type: word
        - text: type
          type: word
        - children:
          - text: user.code_type
            type: identifier
          list_name:
            text: user.code_type
            type: identifier
          type: list
        type: seq
      type: rule
    script:
      children:
      - children:
        - children:
          - text: 'repeated '
            type: string_content
          - text: '{'
            type: string_content
          - text: code_type
            type: string_content
          - text: '}'
            type: string_content
          type: string
        expression:
          children:
          - text: 'repeated '
            type: string_content
          - text: '{'
            type: string_content
          - text: code_type
            type: string_content
          - text: '}'
            type: string_content
          type: string
        type: expression
      type: block
    type: command
  type: source_file
