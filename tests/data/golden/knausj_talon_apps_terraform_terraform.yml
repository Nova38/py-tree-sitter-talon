input: |
  tag: terminal
  and tag: user.terraform_client
  -
  terraform: "terraform "

  terraform apply: "terraform apply "
  terraform destroy: "terraform destroy "
  terraform format recursive: "terraform fmt -recursive\n"
  terraform format: "terraform fmt\n"
  terraform help: "terraform -help"
  terraform init upgrade: "terraform init -upgrade\n"
  terraform init: "terraform init\n"
  terraform plan: "terraform plan\n"
  terraform state move: "terraform state mv "
  terraform validate: "terraform validate\n"
output:
  type: source_file
  children:
  - type: context
    children:
    - type: and
      children:
      - type: match
        children: []
        key:
          text: tag
          type: identifier
        pattern:
          text: ' terminal'
          type: implicit_string
      - type: match
        children: []
        key:
          text: tag
          type: identifier
        pattern:
          text: ' user.terraform_client'
          type: implicit_string
  - type: command
    children: []
    rule:
      type: rule
      children:
      - text: terraform
        type: word
    script:
      type: block
      children:
      - type: expression
        children: []
        expression:
          type: string
          children:
          - text: 'terraform '
            type: string_content
  - type: command
    children: []
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: terraform
          type: word
        - text: apply
          type: word
    script:
      type: block
      children:
      - type: expression
        children: []
        expression:
          type: string
          children:
          - text: 'terraform apply '
            type: string_content
  - type: command
    children: []
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: terraform
          type: word
        - text: destroy
          type: word
    script:
      type: block
      children:
      - type: expression
        children: []
        expression:
          type: string
          children:
          - text: 'terraform destroy '
            type: string_content
  - type: command
    children: []
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: terraform
          type: word
        - text: format
          type: word
        - text: recursive
          type: word
    script:
      type: block
      children:
      - type: expression
        children: []
        expression:
          type: string
          children:
          - text: terraform fmt -recursive
            type: string_content
          - text: \n
            type: string_escape_sequence
  - type: command
    children: []
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: terraform
          type: word
        - text: format
          type: word
    script:
      type: block
      children:
      - type: expression
        children: []
        expression:
          type: string
          children:
          - text: terraform fmt
            type: string_content
          - text: \n
            type: string_escape_sequence
  - type: command
    children: []
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: terraform
          type: word
        - text: help
          type: word
    script:
      type: block
      children:
      - type: expression
        children: []
        expression:
          type: string
          children:
          - text: terraform -help
            type: string_content
  - type: command
    children: []
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: terraform
          type: word
        - text: init
          type: word
        - text: upgrade
          type: word
    script:
      type: block
      children:
      - type: expression
        children: []
        expression:
          type: string
          children:
          - text: terraform init -upgrade
            type: string_content
          - text: \n
            type: string_escape_sequence
  - type: command
    children: []
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: terraform
          type: word
        - text: init
          type: word
    script:
      type: block
      children:
      - type: expression
        children: []
        expression:
          type: string
          children:
          - text: terraform init
            type: string_content
          - text: \n
            type: string_escape_sequence
  - type: command
    children: []
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: terraform
          type: word
        - text: plan
          type: word
    script:
      type: block
      children:
      - type: expression
        children: []
        expression:
          type: string
          children:
          - text: terraform plan
            type: string_content
          - text: \n
            type: string_escape_sequence
  - type: command
    children: []
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: terraform
          type: word
        - text: state
          type: word
        - text: move
          type: word
    script:
      type: block
      children:
      - type: expression
        children: []
        expression:
          type: string
          children:
          - text: 'terraform state mv '
            type: string_content
  - type: command
    children: []
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: terraform
          type: word
        - text: validate
          type: word
    script:
      type: block
      children:
      - type: expression
        children: []
        expression:
          type: string
          children:
          - text: terraform validate
            type: string_content
          - text: \n
            type: string_escape_sequence
