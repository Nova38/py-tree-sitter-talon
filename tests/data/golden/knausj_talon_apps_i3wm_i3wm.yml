input: |
  # NOTE: If you want to use i3wm you must enable the tag settings.talon. ex: `tag(): user.i3wm`
  os: linux
  tag: user.i3wm
  -
  port <number_small>: user.system_command("i3-msg workspace number {number_small}")
  port ten: user.system_command("i3-msg workspace number 10")
  (port flip|flipper): user.system_command("i3-msg workspace back_and_forth")
  port right: user.system_command("i3-msg workspace next")
  port left: user.system_command("i3-msg workspace prev")

  (win|window) left: user.system_command("i3-msg focus left")
  (win|window) right: user.system_command("i3-msg focus right")
  (win|window) up: user.system_command("i3-msg focus up")
  (win|window) down: user.system_command("i3-msg focus down")
  ((win|window) kill|murder): user.system_command("i3-msg kill")
  (win|window) stacking: user.system_command("i3-msg layout stacking")
  (win|window) default: user.system_command("i3-msg layout toggle split")
  (win|window) tabbed: user.system_command("i3-msg layout tabbed")

  reload i three config: user.system_command("i3-msg reload")
  restart i three: user.system_command("i3-msg restart")

  (full screen|scuba): user.system_command("i3-msg fullscreen")
  toggle floating: user.system_command("i3-msg floating toggle")
  focus floating: user.system_command("i3-msg focus mode_toggle")
  center window: user.system_command("i3-msg move position center")
  resize mode: user.system_command('i3-msg mode "resize"')
  focus parent: user.system_command("i3-msg focus parent")
  focus child: user.system_command("i3-msg focus child")

  # resize helpers
  grow window:
      user.system_command('i3-msg mode "resize"')
      key(right:10)
      key(down:10)
      # escape resize mode
      key(escape)
      # center window
      sleep(200ms)
      user.system_command("i3-msg move position center")


  # resize helpers
  shrink window:
      user.system_command('i3-msg mode "resize"')
      key(left:10)
      key(up:10)
      # escape resize mode
      key(escape)
      # center window
      sleep(200ms)
      user.system_command("i3-msg move position center")

  horizontal (shell|terminal):
      user.system_command("i3-msg split h")
      user.i3wm_shell()

  vertical (shell|terminal):
      user.system_command("i3-msg split v")
      user.i3wm_shell()

  # XXX - just replace with shuffle eventually?
  # XXX - like also need to match the generic talon commands
  (shuffle|move (win|window) [to] port) <number_small>:  user.system_command("i3-msg move container to workspace number {number_small}")
  (shuffle|move (win|window) [to] port ten): user.system_command("i3-msg move container to workspace number 10")
  (shuffle|move (win|window) [to] last port): user.system_command("i3-msg move container to workspace back_and_forth")
  (shuffle|move (win|window) left): user.system_command("i3-msg move left")
  (shuffle|move (win|window) right): user.system_command("i3-msg move right")
  (shuffle|move (win|window) up): user.system_command("i3-msg move up")
  (shuffle|move (win|window) down): user.system_command("i3-msg move down")

  (win|window) horizontal: user.system_command("i3-msg split h")
  (win|window) vertical: user.system_command("i3-msg split v")

  make scratch: user.system_command("i3-msg move scratchpad")
  [(show|hide)] scratch: user.system_command("i3-msg scratchpad show")
  next scratch:
      user.system_command("i3-msg scratchpad show")
      user.system_command("i3-msg scratchpad show")

  # these rely on the user settings for the mod key. see i3wm.py Actions class
  launch: user.i3wm_launch()
  launch <user.text>:
          user.i3wm_launch()
          sleep(100ms)
          insert("{text}")
  lock screen: user.i3wm_launch()

  (launch shell|koopa): user.i3wm_shell()

  new scratch (shell|window):
      user.i3wm_shell()
      sleep(200ms)
      user.system_command("i3-msg move scratchpad")
      user.system_command("i3-msg scratchpad show")
output:
  type: source_file
  children:
  - type: matches
    children:
    - text: '# NOTE: If you want to use i3wm you must enable the tag settings.talon.
        ex: `tag(): user.i3wm`'
      type: comment
    - type: match
      children: []
      left:
        text: os
        type: identifier
      modifiers: []
      right:
        text: ' linux'
        type: implicit_string
    - type: match
      children: []
      left:
        text: tag
        type: identifier
      modifiers: []
      right:
        text: ' user.i3wm'
        type: implicit_string
  - type: declarations
    children:
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: port
            type: word
          - type: capture
            children: []
            capture_name:
              text: number_small
              type: identifier
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: 'i3-msg workspace number '
                  type: string_content
                - text: '{'
                  type: string_content
                - text: number_small
                  type: string_content
                - text: '}'
                  type: string_content
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: port
            type: word
          - text: ten
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: i3-msg workspace number 10
                  type: string_content
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: parenthesized_rule
          children:
          - type: choice
            children:
            - type: seq
              children:
              - text: port
                type: word
              - text: flip
                type: word
            - text: flipper
              type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: i3-msg workspace back_and_forth
                  type: string_content
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: port
            type: word
          - text: right
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: i3-msg workspace next
                  type: string_content
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: port
            type: word
          - text: left
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: i3-msg workspace prev
                  type: string_content
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - type: parenthesized_rule
            children:
            - type: choice
              children:
              - text: win
                type: word
              - text: window
                type: word
          - text: left
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: i3-msg focus left
                  type: string_content
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - type: parenthesized_rule
            children:
            - type: choice
              children:
              - text: win
                type: word
              - text: window
                type: word
          - text: right
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: i3-msg focus right
                  type: string_content
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - type: parenthesized_rule
            children:
            - type: choice
              children:
              - text: win
                type: word
              - text: window
                type: word
          - text: up
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: i3-msg focus up
                  type: string_content
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - type: parenthesized_rule
            children:
            - type: choice
              children:
              - text: win
                type: word
              - text: window
                type: word
          - text: down
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: i3-msg focus down
                  type: string_content
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: parenthesized_rule
          children:
          - type: choice
            children:
            - type: seq
              children:
              - type: parenthesized_rule
                children:
                - type: choice
                  children:
                  - text: win
                    type: word
                  - text: window
                    type: word
              - text: kill
                type: word
            - text: murder
              type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: i3-msg kill
                  type: string_content
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - type: parenthesized_rule
            children:
            - type: choice
              children:
              - text: win
                type: word
              - text: window
                type: word
          - text: stacking
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: i3-msg layout stacking
                  type: string_content
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - type: parenthesized_rule
            children:
            - type: choice
              children:
              - text: win
                type: word
              - text: window
                type: word
          - text: default
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: i3-msg layout toggle split
                  type: string_content
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - type: parenthesized_rule
            children:
            - type: choice
              children:
              - text: win
                type: word
              - text: window
                type: word
          - text: tabbed
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: i3-msg layout tabbed
                  type: string_content
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: reload
            type: word
          - text: i
            type: word
          - text: three
            type: word
          - text: config
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: i3-msg reload
                  type: string_content
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: restart
            type: word
          - text: i
            type: word
          - text: three
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: i3-msg restart
                  type: string_content
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: parenthesized_rule
          children:
          - type: choice
            children:
            - type: seq
              children:
              - text: full
                type: word
              - text: screen
                type: word
            - text: scuba
              type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: i3-msg fullscreen
                  type: string_content
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: toggle
            type: word
          - text: floating
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: i3-msg floating toggle
                  type: string_content
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: focus
            type: word
          - text: floating
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: i3-msg focus mode_toggle
                  type: string_content
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: center
            type: word
          - text: window
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: i3-msg move position center
                  type: string_content
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: resize
            type: word
          - text: mode
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: i3-msg mode "resize"
                  type: string_content
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: focus
            type: word
          - text: parent
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: i3-msg focus parent
                  type: string_content
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: focus
            type: word
          - text: child
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: i3-msg focus child
                  type: string_content
    - text: '# resize helpers'
      type: comment
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: grow
            type: word
          - text: window
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: i3-msg mode "resize"
                  type: string_content
        - type: expression_statement
          children: []
          expression:
            type: key_action
            children: []
            arguments:
              text: right:10
              type: implicit_string
        - type: expression_statement
          children: []
          expression:
            type: key_action
            children: []
            arguments:
              text: down:10
              type: implicit_string
        - text: '# escape resize mode'
          type: comment
        - type: expression_statement
          children: []
          expression:
            type: key_action
            children: []
            arguments:
              text: escape
              type: implicit_string
        - text: '# center window'
          type: comment
        - type: expression_statement
          children: []
          expression:
            type: sleep_action
            children: []
            arguments:
              text: 200ms
              type: implicit_string
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: i3-msg move position center
                  type: string_content
    - text: '# resize helpers'
      type: comment
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: shrink
            type: word
          - text: window
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: i3-msg mode "resize"
                  type: string_content
        - type: expression_statement
          children: []
          expression:
            type: key_action
            children: []
            arguments:
              text: left:10
              type: implicit_string
        - type: expression_statement
          children: []
          expression:
            type: key_action
            children: []
            arguments:
              text: up:10
              type: implicit_string
        - text: '# escape resize mode'
          type: comment
        - type: expression_statement
          children: []
          expression:
            type: key_action
            children: []
            arguments:
              text: escape
              type: implicit_string
        - text: '# center window'
          type: comment
        - type: expression_statement
          children: []
          expression:
            type: sleep_action
            children: []
            arguments:
              text: 200ms
              type: implicit_string
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: i3-msg move position center
                  type: string_content
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: horizontal
            type: word
          - type: parenthesized_rule
            children:
            - type: choice
              children:
              - text: shell
                type: word
              - text: terminal
                type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: i3-msg split h
                  type: string_content
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.i3wm_shell
              type: identifier
            arguments:
              type: argument_list
              children: []
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: vertical
            type: word
          - type: parenthesized_rule
            children:
            - type: choice
              children:
              - text: shell
                type: word
              - text: terminal
                type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: i3-msg split v
                  type: string_content
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.i3wm_shell
              type: identifier
            arguments:
              type: argument_list
              children: []
    - text: '# XXX - just replace with shuffle eventually?'
      type: comment
    - text: '# XXX - like also need to match the generic talon commands'
      type: comment
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - type: parenthesized_rule
            children:
            - type: choice
              children:
              - text: shuffle
                type: word
              - type: seq
                children:
                - text: move
                  type: word
                - type: parenthesized_rule
                  children:
                  - type: choice
                    children:
                    - text: win
                      type: word
                    - text: window
                      type: word
                - type: optional
                  children:
                  - text: to
                    type: word
                - text: port
                  type: word
          - type: capture
            children: []
            capture_name:
              text: number_small
              type: identifier
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: 'i3-msg move container to workspace number '
                  type: string_content
                - text: '{'
                  type: string_content
                - text: number_small
                  type: string_content
                - text: '}'
                  type: string_content
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: parenthesized_rule
          children:
          - type: choice
            children:
            - text: shuffle
              type: word
            - type: seq
              children:
              - text: move
                type: word
              - type: parenthesized_rule
                children:
                - type: choice
                  children:
                  - text: win
                    type: word
                  - text: window
                    type: word
              - type: optional
                children:
                - text: to
                  type: word
              - text: port
                type: word
              - text: ten
                type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: i3-msg move container to workspace number 10
                  type: string_content
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: parenthesized_rule
          children:
          - type: choice
            children:
            - text: shuffle
              type: word
            - type: seq
              children:
              - text: move
                type: word
              - type: parenthesized_rule
                children:
                - type: choice
                  children:
                  - text: win
                    type: word
                  - text: window
                    type: word
              - type: optional
                children:
                - text: to
                  type: word
              - text: last
                type: word
              - text: port
                type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: i3-msg move container to workspace back_and_forth
                  type: string_content
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: parenthesized_rule
          children:
          - type: choice
            children:
            - text: shuffle
              type: word
            - type: seq
              children:
              - text: move
                type: word
              - type: parenthesized_rule
                children:
                - type: choice
                  children:
                  - text: win
                    type: word
                  - text: window
                    type: word
              - text: left
                type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: i3-msg move left
                  type: string_content
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: parenthesized_rule
          children:
          - type: choice
            children:
            - text: shuffle
              type: word
            - type: seq
              children:
              - text: move
                type: word
              - type: parenthesized_rule
                children:
                - type: choice
                  children:
                  - text: win
                    type: word
                  - text: window
                    type: word
              - text: right
                type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: i3-msg move right
                  type: string_content
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: parenthesized_rule
          children:
          - type: choice
            children:
            - text: shuffle
              type: word
            - type: seq
              children:
              - text: move
                type: word
              - type: parenthesized_rule
                children:
                - type: choice
                  children:
                  - text: win
                    type: word
                  - text: window
                    type: word
              - text: up
                type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: i3-msg move up
                  type: string_content
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: parenthesized_rule
          children:
          - type: choice
            children:
            - text: shuffle
              type: word
            - type: seq
              children:
              - text: move
                type: word
              - type: parenthesized_rule
                children:
                - type: choice
                  children:
                  - text: win
                    type: word
                  - text: window
                    type: word
              - text: down
                type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: i3-msg move down
                  type: string_content
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - type: parenthesized_rule
            children:
            - type: choice
              children:
              - text: win
                type: word
              - text: window
                type: word
          - text: horizontal
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: i3-msg split h
                  type: string_content
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - type: parenthesized_rule
            children:
            - type: choice
              children:
              - text: win
                type: word
              - text: window
                type: word
          - text: vertical
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: i3-msg split v
                  type: string_content
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: make
            type: word
          - text: scratch
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: i3-msg move scratchpad
                  type: string_content
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - type: optional
            children:
            - type: parenthesized_rule
              children:
              - type: choice
                children:
                - text: show
                  type: word
                - text: hide
                  type: word
          - text: scratch
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: i3-msg scratchpad show
                  type: string_content
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: next
            type: word
          - text: scratch
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: i3-msg scratchpad show
                  type: string_content
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: i3-msg scratchpad show
                  type: string_content
    - text: '# these rely on the user settings for the mod key. see i3wm.py Actions
        class'
      type: comment
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - text: launch
          type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.i3wm_launch
              type: identifier
            arguments:
              type: argument_list
              children: []
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: launch
            type: word
          - type: capture
            children: []
            capture_name:
              text: user.text
              type: identifier
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.i3wm_launch
              type: identifier
            arguments:
              type: argument_list
              children: []
        - type: expression_statement
          children: []
          expression:
            type: sleep_action
            children: []
            arguments:
              text: 100ms
              type: implicit_string
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: insert
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: '{'
                  type: string_content
                - text: text
                  type: string_content
                - text: '}'
                  type: string_content
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: lock
            type: word
          - text: screen
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.i3wm_launch
              type: identifier
            arguments:
              type: argument_list
              children: []
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: parenthesized_rule
          children:
          - type: choice
            children:
            - type: seq
              children:
              - text: launch
                type: word
              - text: shell
                type: word
            - text: koopa
              type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.i3wm_shell
              type: identifier
            arguments:
              type: argument_list
              children: []
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: new
            type: word
          - text: scratch
            type: word
          - type: parenthesized_rule
            children:
            - type: choice
              children:
              - text: shell
                type: word
              - text: window
                type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.i3wm_shell
              type: identifier
            arguments:
              type: argument_list
              children: []
        - type: expression_statement
          children: []
          expression:
            type: sleep_action
            children: []
            arguments:
              text: 200ms
              type: implicit_string
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: i3-msg move scratchpad
                  type: string_content
        - type: expression_statement
          children: []
          expression:
            type: action
            children: []
            action_name:
              text: user.system_command
              type: identifier
            arguments:
              type: argument_list
              children:
              - type: string
                children:
                - text: i3-msg scratchpad show
                  type: string_content
