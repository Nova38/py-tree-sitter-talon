input: |
  os: mac
  and app: notes
  -

  new note: key(cmd-n)
  duplicate note: key(cmd-d)
  new folder: key(shift-cmd-n)
  toggle folders: key(alt-cmd-s)
  show main: key(cmd-0)
  list view: key(cmd-1)
  gallery view: key(cmd-2)
  toggle attachments: key(cmd-3)
  find all: key(alt-cmd-f)
  print note: key(cmd-p)
  attach file: key(shift-cmd-a)
  create link: key(cmd-k)
  insert table: key(alt-cmd-t)
  apply title: key(shift-cmd-t)
  apply heading: key(shift-cmd-h)
  apply subheading: key(shift-cmd-j)
  apply body: key(shift-cmd-b)
  apply mono: key(shift-cmd-m)
  apply bullet: key(shift-cmd-7)
  apply dash: key(shift-cmd-8)
  apply number: key(shift-cmd-9)
  apply checklist: key(shift-cmd-l)
  increase font: key(cmd-+)
  decrease font: key(cmd--)
  line break: key(ctrl-enter)
  mark: key(shift-cmd-u)
  drag [line] down: key('ctrl-cmd-down')
  drag [line] up: key('ctrl-cmd-up')
output:
  type: source_file
  children:
  - type: matches
    children:
    - type: match
      children: []
      left:
        text: os
        type: identifier
      modifiers: []
      right:
        text: ' mac'
        type: implicit_string
    - type: match
      children: []
      left:
        text: app
        type: identifier
      modifiers:
      - text: and
        type: match_modifier
      right:
        text: ' notes'
        type: implicit_string
  - type: declarations
    children:
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: new
            type: word
          - text: note
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: key_action
            children: []
            arguments:
              text: cmd-n
              type: implicit_string
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: duplicate
            type: word
          - text: note
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: key_action
            children: []
            arguments:
              text: cmd-d
              type: implicit_string
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: new
            type: word
          - text: folder
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: key_action
            children: []
            arguments:
              text: shift-cmd-n
              type: implicit_string
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: toggle
            type: word
          - text: folders
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: key_action
            children: []
            arguments:
              text: alt-cmd-s
              type: implicit_string
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: show
            type: word
          - text: main
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: key_action
            children: []
            arguments:
              text: cmd-0
              type: implicit_string
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: list
            type: word
          - text: view
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: key_action
            children: []
            arguments:
              text: cmd-1
              type: implicit_string
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: gallery
            type: word
          - text: view
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: key_action
            children: []
            arguments:
              text: cmd-2
              type: implicit_string
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: toggle
            type: word
          - text: attachments
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: key_action
            children: []
            arguments:
              text: cmd-3
              type: implicit_string
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: find
            type: word
          - text: all
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: key_action
            children: []
            arguments:
              text: alt-cmd-f
              type: implicit_string
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: print
            type: word
          - text: note
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: key_action
            children: []
            arguments:
              text: cmd-p
              type: implicit_string
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: attach
            type: word
          - text: file
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: key_action
            children: []
            arguments:
              text: shift-cmd-a
              type: implicit_string
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: create
            type: word
          - text: link
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: key_action
            children: []
            arguments:
              text: cmd-k
              type: implicit_string
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: insert
            type: word
          - text: table
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: key_action
            children: []
            arguments:
              text: alt-cmd-t
              type: implicit_string
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: apply
            type: word
          - text: title
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: key_action
            children: []
            arguments:
              text: shift-cmd-t
              type: implicit_string
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: apply
            type: word
          - text: heading
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: key_action
            children: []
            arguments:
              text: shift-cmd-h
              type: implicit_string
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: apply
            type: word
          - text: subheading
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: key_action
            children: []
            arguments:
              text: shift-cmd-j
              type: implicit_string
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: apply
            type: word
          - text: body
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: key_action
            children: []
            arguments:
              text: shift-cmd-b
              type: implicit_string
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: apply
            type: word
          - text: mono
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: key_action
            children: []
            arguments:
              text: shift-cmd-m
              type: implicit_string
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: apply
            type: word
          - text: bullet
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: key_action
            children: []
            arguments:
              text: shift-cmd-7
              type: implicit_string
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: apply
            type: word
          - text: dash
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: key_action
            children: []
            arguments:
              text: shift-cmd-8
              type: implicit_string
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: apply
            type: word
          - text: number
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: key_action
            children: []
            arguments:
              text: shift-cmd-9
              type: implicit_string
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: apply
            type: word
          - text: checklist
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: key_action
            children: []
            arguments:
              text: shift-cmd-l
              type: implicit_string
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: increase
            type: word
          - text: font
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: key_action
            children: []
            arguments:
              text: cmd-+
              type: implicit_string
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: decrease
            type: word
          - text: font
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: key_action
            children: []
            arguments:
              text: cmd--
              type: implicit_string
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: line
            type: word
          - text: break
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: key_action
            children: []
            arguments:
              text: ctrl-enter
              type: implicit_string
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - text: mark
          type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: key_action
            children: []
            arguments:
              text: shift-cmd-u
              type: implicit_string
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: drag
            type: word
          - type: optional
            children:
            - text: line
              type: word
          - text: down
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: key_action
            children: []
            arguments:
              text: "'ctrl-cmd-down'"
              type: implicit_string
    - type: command_declaration
      children: []
      left:
        type: rule
        children:
        - type: seq
          children:
          - text: drag
            type: word
          - type: optional
            children:
            - text: line
              type: word
          - text: up
            type: word
      right:
        type: block
        children:
        - type: expression_statement
          children: []
          expression:
            type: key_action
            children: []
            arguments:
              text: "'ctrl-cmd-up'"
              type: implicit_string
