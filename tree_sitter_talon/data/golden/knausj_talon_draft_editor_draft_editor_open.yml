input: |
  tag: user.draft_editor_active
  and tag: user.draft_editor_app_focused
  -

  draft submit:    user.draft_editor_submit()
  draft discard:   user.draft_editor_discard()
output:
  type: source_file
  children:
    - type: context
      children:
        - type: and
          children:
            - type: match
              children: []
              key:
                text: tag
                type: identifier
              pattern:
                text: " user.draft_editor_active"
                type: implicit_string
            - type: match
              children: []
              key:
                text: tag
                type: identifier
              pattern:
                text: " user.draft_editor_app_focused"
                type: implicit_string
    - type: command
      children: []
      rule:
        type: rule
        children:
          - type: seq
            children:
              - text: draft
                type: word
              - text: submit
                type: word
      script:
        type: block
        children:
          - type: expression
            children: []
            expression:
              type: action
              children: []
              action_name:
                text: user.draft_editor_submit
                type: identifier
              arguments:
                type: argument_list
                children: []
    - type: command
      children: []
      rule:
        type: rule
        children:
          - type: seq
            children:
              - text: draft
                type: word
              - text: discard
                type: word
      script:
        type: block
        children:
          - type: expression
            children: []
            expression:
              type: action
              children: []
              action_name:
                text: user.draft_editor_discard
                type: identifier
              arguments:
                type: argument_list
                children: []
